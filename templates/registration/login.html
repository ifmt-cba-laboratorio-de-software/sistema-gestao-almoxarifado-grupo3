<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login • Sistema de Almoxarifado</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
      :root {
        --brand-primary: #1f5b91;
        --brand-secondary: #4691ff;
        --surface: #f4f6fb;
      }

      body {
        font-family: 'Inter', 'Segoe UI', Tahoma, sans-serif;
        background: radial-gradient(circle at top right, rgba(64, 145, 255, 0.15), transparent 40%),
                    radial-gradient(circle at bottom left, rgba(113, 216, 189, 0.25), transparent 45%),
                    var(--surface);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 1rem;
      }

      .auth-card {
        background: #fff;
        border-radius: 28px;
        box-shadow: 0 30px 70px rgba(16, 35, 63, 0.12);
        overflow: hidden;
      }

      .auth-card__intro {
        background: linear-gradient(135deg, var(--brand-primary), #163a6b);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      .auth-card__intro-content {
        max-width: 320px;
        margin: 0 auto;
      }

      .form-control {
        border-radius: 14px;
        border-color: rgba(25, 70, 112, 0.2);
        padding: 0.95rem 1rem;
      }

      .form-control:focus {
        border-color: var(--brand-secondary);
        box-shadow: 0 0 0 0.25rem rgba(70, 145, 255, 0.2);
      }

      .btn-login {
        border-radius: 16px;
        padding: 0.85rem;
        font-weight: 600;
        letter-spacing: 0.01em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10 col-xl-9">
          <div class="auth-card row g-0">
            <div class="auth-card__intro col-lg-5 p-4 p-lg-5">
              <div class="auth-card__intro-content">
                <h1 class="display-6 fw-bold mb-3">Sistema de Almoxarifado</h1>
                <p class="mb-0 opacity-75">
                  Projeto acadêmico para controle interno de itens, fornecedores e movimentações.
                </p>
              </div>
            </div>

            <div class="col-lg-7 p-4 p-lg-5 bg-white">
              <div class="text-center mb-4">
                <span class="badge rounded-pill bg-primary-subtle text-primary-emphasis text-uppercase fw-semibold px-3 py-2">
                  Acesso restrito
                </span>
                <h2 class="fw-bold mt-3 mb-1">Bem-vindo de volta</h2>
                <p class="text-muted mb-0">Entre com o usuário criado pelo responsável do projeto.</p>
              </div>

              <form method="post" class="d-flex flex-column gap-3">
                {% csrf_token %}

                {% if form.errors %}
                <div class="alert alert-danger">
                  <div class="fw-semibold mb-1">
                    <i class="bi bi-exclamation-triangle me-1"></i>
                    Não foi possível autenticar
                  </div>
                  <span class="small">Revise usuário e senha e tente novamente.</span>
                </div>
                {% endif %}

                <div>
                  <label for="id_username" class="form-label fw-semibold text-secondary text-uppercase small">Usuário</label>
                  <input
                    type="text"
                    name="username"
                    id="id_username"
                    class="form-control"
                    placeholder="ex: maria.silva"
                    value="{{ form.username.value|default_if_none:'' }}"
                    autocomplete="username"
                    required
                    autofocus>
                </div>

                <div>
                  <label for="id_password" class="form-label fw-semibold text-secondary text-uppercase small">Senha</label>
                  <div class="input-group">
                    <input
                      type="password"
                      name="password"
                      id="id_password"
                      class="form-control"
                      placeholder="Digite sua senha"
                      autocomplete="current-password"
                      required>
                    <button type="button" class="btn btn-outline-secondary" data-toggle-password>
                      <i class="bi bi-eye"></i>
                    </button>
                  </div>
                </div>

                <div class="small text-muted">
                  Caso tenha problemas com o acesso, entre em contato com o responsável pela aplicação.
                </div>

                <button type="submit" class="btn btn-primary btn-login shadow-sm">
                  Entrar no sistema
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const toggleButton = document.querySelector('[data-toggle-password]');
      if (toggleButton) {
        toggleButton.addEventListener('click', () => {
          const input = document.getElementById('id_password');
          const icon = toggleButton.querySelector('i');
          if (input.type === 'password') {
            input.type = 'text';
            icon.classList.replace('bi-eye', 'bi-eye-slash');
          } else {
            input.type = 'password';
            icon.classList.replace('bi-eye-slash', 'bi-eye');
          }
        });
      }
    </script>
  </body>
</html>
